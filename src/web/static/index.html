<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Delta Agent | Next-Gen Agency</title>
    <link rel="stylesheet" href="/static/style.css?v=12" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  </head>

  <body>
    <div class="app-shell">
      <!-- Sidebar Navigation -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <div class="logo">
            <span class="logo-symbol">Δ</span>
            <span class="logo-text">Delta</span>
          </div>
          <button
            id="sidebar-toggle"
            class="sidebar-toggle"
            title="Toggle Sidebar"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
        </div>

        <nav class="sidebar-nav">
          <button
            class="nav-item action-primary"
            id="new-chat-btn"
            title="New Chat"
          >
            <span class="nav-icon">+</span>
            <span class="nav-label">New chat</span>
          </button>
          <div class="sidebar-divider" style="margin: 8px 0"></div>
          <button class="nav-item active" data-view="chat" title="Chat">
            <span class="nav-icon">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
                ></path>
              </svg>
            </span>
            <span class="nav-label">Chat</span>
          </button>
          <button class="nav-item" data-view="extensions" title="Extensions">
            <span class="nav-icon">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
              </svg>
            </span>
            <span class="nav-label">Extensions</span>
          </button>
        </nav>

        <div class="sidebar-divider"></div>

        <div class="sidebar-section">
          <div class="section-label">Recent Chats</div>
          <div class="chat-history" id="chat-history">
            <!-- History items injected here -->
          </div>
        </div>

        <div class="sidebar-spacer"></div>

        <div class="sidebar-footer">
          <button id="settings-btn" class="footer-item" title="Settings">
            <span class="footer-icon">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <circle cx="12" cy="12" r="3"></circle>
                <path
                  d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
                ></path>
              </svg>
            </span>
            <span class="footer-label">Settings</span>
          </button>
          <div class="system-status">
            <div class="status-indicator">
              <div class="status-dot" id="status-dot"></div>
              <span class="status-text" id="status-text">Ready</span>
            </div>
          </div>
        </div>
      </aside>

      <!-- Main Content Area -->
      <main class="main-content">
        <!-- Chat View -->
        <section id="view-chat" class="view active">
          <div class="chat-viewport" id="chat-container">
            <div class="welcome-hero" id="welcome-screen">
              <h1 class="hero-title">Delta</h1>
            </div>

            <div class="message-list" id="messages"></div>
            <div id="typing-indicator" class="typing-indicator hidden"></div>
          </div>

          <!-- Floating Input Area -->
          <div class="input-nexus">
            <div class="input-wrapper">
              <textarea
                id="message-input"
                placeholder="Enter instructions..."
                rows="1"
              ></textarea>
              <div class="input-actions">
                <button id="mic-btn" class="action-btn" title="Voice Command">
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"
                    />
                    <path d="M19 10v2a7 7 0 0 1-14 0v-2" />
                    <line x1="12" y1="19" x2="12" y2="23" />
                    <line x1="8" y1="23" x2="16" y2="23" />
                  </svg>
                </button>
                <button id="send-btn" class="send-btn">
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <line x1="22" y1="2" x2="11" y2="13" />
                    <polygon points="22 2 15 22 11 13 2 9 22 2" />
                  </svg>
                </button>
              </div>
            </div>
            <div class="input-hint">
              Delta adapts and learns. Verify critical outputs.
            </div>
          </div>
        </section>

        <!-- Extensions View -->
        <section id="view-extensions" class="view">
          <header class="view-header">
            <h2 class="view-title">Extensions Library</h2>
            <p class="view-description">Tools created and managed by Delta.</p>
          </header>
          <div class="extensions-grid" id="extensions-grid">
            <!-- Extension cards injected here -->
          </div>
            <!-- Extension cards injected here -->
          </div>
        </section>


      </main>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Modals -->
    <div id="settings-modal" class="modal-overlay hidden">
      <div class="modal">
        <div class="modal-header">
          <h3>System Configuration</h3>
          <button id="close-settings" class="close-btn" title="Close">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="settings-group">
            <h4 class="group-title">Identity</h4>
            <div class="field">
              <label for="setting-name">Agent Name</label>
              <input type="text" id="setting-name" placeholder="e.g. Delta" />
            </div>
          </div>
          
          <div class="settings-group">
            <h4 class="group-title">Intelligence</h4>
            <div class="field">
              <label for="setting-model">Core Model</label>
              <div class="select-wrapper">
                <select id="setting-model">
                  <option value="gemini-3-pro-preview">Gemini 3 Pro (Recommended)</option>
                  <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                  <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                </select>
                <div class="select-arrow">▼</div>
              </div>
            </div>
            <div class="field">
              <label for="setting-api-key">Gemini API Key</label>
              <input type="password" id="setting-api-key" placeholder="AIza..." />
              <p class="field-hint">Key is masked for security. Leave blank to keep current.</p>
            </div>
          </div>

          <div class="settings-group">
            <h4 class="group-title">Interaction</h4>
            <div class="field-row">
              <div class="field-info">
                <label for="setting-voice">Neural Voice</label>
                <p class="field-desc">Enable voice feedback for responses.</p>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="setting-voice" />
                <span class="slider"></span>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="save-settings" class="btn-primary">
            <span>Sync Configuration</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Extension Details Modal -->
    <div id="extension-modal" class="modal-overlay hidden">
      <div class="modal large">
        <div class="modal-header">
          <h3 id="ext-detail-title">Extension Details</h3>
          <button id="close-extension" class="close-btn">&times;</button>
        </div>
        <div class="modal-body">
          <div class="ext-details-layout">
            <div class="ext-info">
              <div class="detail-group">
                <label>Description</label>
                <p id="ext-detail-desc"></p>
              </div>
              <div class="detail-group">
                <label>Capabilities</label>
                <div id="ext-detail-caps" class="caps-tags"></div>
              </div>
              <div class="detail-group">
                <label>Execution Statistics</label>
                <p id="ext-detail-stats"></p>
              </div>
            </div>
            <div class="ext-code">
              <label>Source Intelligence</label>
              <pre><code id="ext-detail-code" class="code-block"></code></pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="/static/app.js?v=12"></script>
  </body>
</html>
